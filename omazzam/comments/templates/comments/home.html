{% extends 'base.html' %}
{% load staticfiles %}
{% block content %}

<!-- Fixed position loading indicator -->
<div class="col-12 text-center">
  <div class="col-12 text-center loader" id="loader">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: opacity: 0.5; display: block; shape-rendering: auto;" width="200px" height="200px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
    <g>
      <circle cx="92.956" cy="50" r="4" fill="#e15b64">
        <animate attributeName="cx" repeatCount="indefinite" dur="1s" values="95;35" keyTimes="0;1" begin="-0.67s"></animate>
        <animate attributeName="fill-opacity" repeatCount="indefinite" dur="1s" values="0;1;1" keyTimes="0;0.2;1" begin="-0.67s"></animate>
      </circle>
      <circle cx="53.356" cy="50" r="4" fill="#e15b64">
        <animate attributeName="cx" repeatCount="indefinite" dur="1s" values="95;35" keyTimes="0;1" begin="-0.33s"></animate>
        <animate attributeName="fill-opacity" repeatCount="indefinite" dur="1s" values="0;1;1" keyTimes="0;0.2;1" begin="-0.33s"></animate>
      </circle>
      <circle cx="73.156" cy="50" r="4" fill="#e15b64">
        <animate attributeName="cx" repeatCount="indefinite" dur="1s" values="95;35" keyTimes="0;1" begin="0s"></animate>
        <animate attributeName="fill-opacity" repeatCount="indefinite" dur="1s" values="0;1;1" keyTimes="0;0.2;1" begin="0s"></animate>
      </circle>
    </g><g transform="translate(-15 0)">
      <path d="M50 50L20 50A30 30 0 0 0 80 50Z" fill="#f8b26a" transform="rotate(90 50 50)"></path>
      <path d="M50 50L20 50A30 30 0 0 0 80 50Z" fill="#f8b26a" transform="rotate(32.766 50 50)">
        <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;45 50 50;0 50 50" keyTimes="0;0.5;1"></animateTransform>
      </path>
      <path d="M50 50L20 50A30 30 0 0 1 80 50Z" fill="#f8b26a" transform="rotate(-32.766 50 50)">
        <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;-45 50 50;0 50 50" keyTimes="0;0.5;1"></animateTransform>
      </path>
    </g>
    <!--  generated by Eng.Azzam Ali --></svg>
  </div>




   <h1><span class="fa fa-sign-in"></span> Search for a video   </h1>
   <br />

   <div class="offset-2 col-10 col-md-9">
   <form method="POST" action="{% url 'home' %}">
       {% csrf_token %}
       <div class="form-group row">
         <div class="input-group">
           <input type="text" class="form-control" placeholder="Search for video in Youtube" name="videoSearch">

           <div class="input-group-append">
             <button class="btn btn-secondary" type="submit"  onclick="showLoader()" id="submit">
               <i class="fa fa-search"></i>
             </button>
           </div>
         </div>
       </div>

     </form>



   </div>
   <div  class="offset-2 col-10 col-md-9">

     {% if error %}
     <h3 class="alert alert-danger">{{ error }}</h3>
     {% endif %}
     {% if state %}
     <h3 class="alert alert-success">{{ state }}</h3>
     {% endif %}

   </div>

</div>
<br />
<br />



<script type="text/javascript">
$('#loader').hide();
function showLoader() {
  $('#loader').show();
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      $('#loader').hide();
    }
  };
  xhttp.open("GET", "{% url 'home' %}",False);
  xhttp.send();
}
</script>

{% endblock %}
